{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst timeInput = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\nconst dayValue = document.querySelector('[data-days]');\nconst hoursValue = document.querySelector('[data-hours]');\nconst minutesValue = document.querySelector('[data-minutes]');\nconst secondsValue = document.querySelector('[data-seconds]');\n\nstartBtn.setAttribute('disabled', '');\n\nlet userSelectedDate;\nlet interval = 0;\n\nlet options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n  userSelectedDate = selectedDates[0];\n    if (userSelectedDate < new Date()) {\n      startBtn.setAttribute('disabled', '');\n      startBtn.classList.remove('right-date');\n      \n      iziToast.error({\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n        backgroundColor: '#ef4040',\n        messageColor: '#fff',\n        messageSize: '26',\n        imageWidth: 302,\n        close: true,\n        closeOnEscape: true,\n        progressBar: true,\n        progressBarColor: '#b51b1b',\n        transitionIn: 'flipInX',\n        transitionOut: 'flipOutX',\n        });\n        } else {\n        startBtn.removeAttribute('disabled', '')\n        startBtn.classList.add('right-date')\n        }\n        console.log(userSelectedDate);\n  }\n};\n\nstartBtn.addEventListener('click', () => {\n  if (interval) clearInterval(interval);\n  startBtn.setAttribute('disabled', '');\n  startBtn.classList.remove('right-date');\n  timeInput.setAttribute('disabled', '');\n  convertMs();\n  interval = setInterval(convertMs, 1000);\n  })\n\nlet ms;\n\nfunction convertMs(ms) {\n  ms = userSelectedDate.getTime() - Date.now();\n\n  if (ms < 0) {\n    clearInterval(interval);\n    timeInput.removeAttribute('disabled', '');\n    return;\n  };\n           \n        // Number of milliseconds per unit of time\n      const second = 1000;\n      const minute = second * 60;\n      const hour = minute * 60;\n      const day = hour * 24;\n\n        // Remaining days\n      const days = Math.floor(ms / day);\n        // Remaining hours\n      const hours = Math.floor((ms % day) / hour);\n        // Remaining minutes\n      const minutes = Math.floor(((ms % day) % hour) / minute);\n        // Remaining seconds\n      const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n   \n      dayValue.textContent = String(days).padStart(2, '0');\n      hoursValue.textContent = String(hours).padStart(2, '0');\n      minutesValue.textContent = String(minutes).padStart(2, '0');\n      secondsValue.textContent = String(seconds).padStart(2, '0');\n};\n\nflatpickr(timeInput, options);"],"names":["timeInput","startBtn","dayValue","hoursValue","minutesValue","secondsValue","userSelectedDate","interval","options","selectedDates","iziToast","convertMs","ms","second","minute","hour","day","days","hours","minutes","seconds","flatpickr"],"mappings":"2GAOA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAE5DJ,EAAS,aAAa,WAAY,EAAE,EAEpC,IAAIK,EACAC,EAAW,EAEXC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACvBH,EAAmBG,EAAc,CAAC,EAC5BH,EAAmB,IAAI,MACzBL,EAAS,aAAa,WAAY,EAAE,EACpCA,EAAS,UAAU,OAAO,YAAY,EAEtCS,EAAS,MAAM,CACb,QAAS,qCACT,SAAU,WACV,gBAAiB,UACjB,aAAc,OACd,YAAa,KACb,WAAY,IACZ,MAAO,GACP,cAAe,GACf,YAAa,GACb,iBAAkB,UAClB,aAAc,UACd,cAAe,UACvB,CAAS,IAEDT,EAAS,gBAAgB,WAAY,EAAE,EACvCA,EAAS,UAAU,IAAI,YAAY,GAEnC,QAAQ,IAAIK,CAAgB,CACjC,CACH,EAEAL,EAAS,iBAAiB,QAAS,IAAM,CACnCM,GAAU,cAAcA,CAAQ,EACpCN,EAAS,aAAa,WAAY,EAAE,EACpCA,EAAS,UAAU,OAAO,YAAY,EACtCD,EAAU,aAAa,WAAY,EAAE,EACrCW,IACAJ,EAAW,YAAYI,EAAW,GAAI,CACxC,CAAG,EAIH,SAASA,EAAUC,EAAI,CAGrB,GAFAA,EAAKN,EAAiB,QAAS,EAAG,KAAK,IAAG,EAEtCM,EAAK,EAAG,CACV,cAAcL,CAAQ,EACtBP,EAAU,gBAAgB,WAAY,EAAE,EACxC,MAEJ,CAEM,MAAMa,EAAS,IACTC,EAASD,EAAS,GAClBE,EAAOD,EAAS,GAChBE,EAAMD,EAAO,GAGbE,EAAO,KAAK,MAAML,EAAKI,CAAG,EAE1BE,EAAQ,KAAK,MAAON,EAAKI,EAAOD,CAAI,EAEpCI,EAAU,KAAK,MAAQP,EAAKI,EAAOD,EAAQD,CAAM,EAEjDM,EAAU,KAAK,MAASR,EAAKI,EAAOD,EAAQD,EAAUD,CAAM,EAElEX,EAAS,YAAc,OAAOe,CAAI,EAAE,SAAS,EAAG,GAAG,EACnDd,EAAW,YAAc,OAAOe,CAAK,EAAE,SAAS,EAAG,GAAG,EACtDd,EAAa,YAAc,OAAOe,CAAO,EAAE,SAAS,EAAG,GAAG,EAC1Dd,EAAa,YAAc,OAAOe,CAAO,EAAE,SAAS,EAAG,GAAG,CAChE,CAEAC,EAAUrB,EAAWQ,CAAO"}